<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM Figures de Style - Reconnaissance de D√©finition</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f7f9;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 20px 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .quiz-container {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 900px;
            max-width: 100%;
            overflow: hidden;
        }
        .quiz-header {
            background-color: #7952b3; /* Couleur violette pour un th√®me litt√©raire/√©ducatif */
            color: white;
            padding: 1.5rem 2rem;
        }
        .quiz-header h1 {
            margin: 0;
            font-size: 1.6rem;
            text-align: center;
        }
        .quiz-header p {
            text-align: center;
            margin: 10px 0 0;
            font-size: 1rem;
            opacity: 0.9;
        }
        .quiz-body {
            padding: 2rem;
        }
        .question-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            font-weight: 500;
        }
        .answers-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        .answer-item {
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .answer-item:hover:not(.disabled) {
            background-color: #e9ecef;
            border-color: #7952b3;
        }
        .answer-item.selected {
              background-color: #e4d7f5; /* Violet clair pour s√©lection */
              border-color: #7952b3;
        }
        .answer-item.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
            font-weight: bold;
        }
        .answer-item.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
            font-weight: bold;
        }
        .answer-item.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }
        .quiz-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            border-top: 1px solid #e9ecef;
        }
        .score {
            font-size: 1.1rem;
            font-weight: bold;
        }
        .next-btn, .restart-btn {
            background-color: #7952b3; /* Couleur principale */
            color: white;
            border: none;
            border-radius: 8px;
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
            display: none;
        }
        .next-btn:hover, .restart-btn:hover {
            background-color: #61408c;
        }
        .result-screen {
            text-align: center;
            padding: 3rem;
        }
        .result-screen h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        .result-screen p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }
        .explanation-box {
            background-color: #f0f8ff; /* Bleu tr√®s clair */
            border: 1px solid #cce5ff;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
            display: none;
        }
        .explanation-box p {
            font-size: 0.95rem;
            margin: 0;
            color: #004085;
        }
    </style>
    </head>
<body>

<div class="quiz-container" id="quiz">
    <div class="quiz-header">
        <h1>QCM Figures de Style : Reconnaissance des D√©finitions</h1>
        <p id="progress">Question 1/26</p>
    </div>
    <div class="quiz-body">
        <h2 id="question" class="question-text">Question text</h2>
        <ul id="answer-buttons" class="answers-list">
        </ul>
        <div id="explanation-box" class="explanation-box">
            <p id="explanation-text"></p>
        </div>
    </div>
    <div class="quiz-footer">
        <div id="score" class="score">Score: 0/26</div>
        <button id="next-btn" class="next-btn">Valider</button>
    </div>
</div>

<script>
    const questions = [
        // 26 D√âFINITIONS BAS√âES SUR VOTRE LISTE
        { questionText: "Quelle figure est la **r√©p√©tition d'un mot ou d'un groupe de mots en d√©but de phrase ou de vers successifs** ?", options: { A: "La R√©p√©tition", B: "L'Anaphore", C: "La Gradation", D: "Le Parall√©lisme" }, answer: "B", explanation: "L'Anaphore est la **r√©p√©tition d'un m√™me mot en d√©but de phrase** (Ex: *Rien ne l'arr√™te, rien ne l'√©tonne...*).", figure: "Anaphore" },
        { questionText: "Quelle figure est l'**emploi d'un terme inutile pour le sens (redondance)** ?", options: { A: "La P√©riphrase", B: "La Litote", C: "Le Pl√©onasme", D: "L'Hyperbole" }, answer: "C", explanation: "Le Pl√©onasme est l'**emploi d'un terme inutile** (Ex: *Monter en haut*).", figure: "Pl√©onasme (Redondance)" },
        { questionText: "Quelle figure est la **r√©p√©tition de la m√™me construction syntaxique ou du m√™me rythme** ?", options: { A: "Le Chiasme", B: "Le Parall√©lisme", C: "La R√©p√©tition", D: "L'Antith√®se" }, answer: "B", explanation: "Le Parall√©lisme est la **r√©p√©tition de la m√™me construction** (Ex: *Le matin est froid ; le soir est chaud*).", figure: "Parall√©lisme" },
        { questionText: "Quelle figure est la **succession de termes d'intensit√© croissante** ?", options: { A: "La Gradation ascendante", B: "La Gradation descendante", C: "L'Hyperbole", D: "L'Accumulation" }, answer: "A", explanation: "La Gradation ascendante est la **succession de termes d'intensit√© croissante** (Ex: *Va, cours, vole...*).", figure: "Gradation ascendante" },
        { questionText: "Quelle figure est la **succession de termes d'intensit√© d√©croissante** ?", options: { A: "La Gradation descendante", B: "Le Pl√©onasme", C: "La R√©p√©tition", D: "La Litote" }, answer: "A", explanation: "La Gradation descendante est la **succession de termes d'intensit√© d√©croissante** (Ex: *Il pleut, il mouillasse, il bruine*).", figure: "Gradation descendante" },
        { questionText: "Quelle figure est la **simple r√©utilisation du m√™me mot ou de la m√™me expression dans le texte** ?", options: { A: "L'Anaphore", B: "L'Allit√©ration", C: "La R√©p√©tition", D: "La Synecdoque" }, answer: "C", explanation: "La R√©p√©tition est le **simple r√©emploi d'un m√™me mot** (Ex: *C'est beau, si beau*).", figure: "R√©p√©tition" },
        { questionText: "Quelle figure est le **croisement dans la construction des termes (A-B / B'-A')** ?", options: { A: "Le Parall√©lisme", B: "L'Antith√®se", C: "Le Chiasme", D: "Le Zeugme" }, answer: "C", explanation: "Le Chiasme est le **croisement des termes** (Ex: *Manger pour vivre, vivre pour manger*).", figure: "Chiasme" },
        { questionText: "Quelle figure est le **rapprochement de deux termes ou id√©es oppos√©s** ?", options: { A: "L'Oxymore", B: "L'Antiphrase", C: "L'Antith√®se", D: "Le Paradoxe" }, answer: "C", explanation: "L'Antith√®se est le **rapprochement de deux id√©es oppos√©es** (Ex: *Le ciel et l'enfer*).", figure: "Antith√®se" },
        { questionText: "Quelle figure est le **rapprochement de deux termes de sens contradictoires dans la m√™me expression** ?", options: { A: "L'Antith√®se", B: "L'Oxymore", C: "La M√©taphore", D: "Le Paradoxe" }, answer: "B", explanation: "L'Oxymore est le **rapprochement de termes contradictoires** (Ex: *Une obscure clart√©*).", figure: "Oxymore" },
        { questionText: "Quelle figure est le **rattachement √† un seul mot (verbe) de compl√©ments qui ne sont pas de m√™me nature (concret/abstrait)** ?", options: { A: "Le Pl√©onasme", B: "Le Chiasme", C: "Le Zeugme", D: "L'Ellipse" }, answer: "C", explanation: "Le Zeugme est le **rattachement d'un verbe √† des compl√©ments h√©t√©rog√®nes** (Ex: *Il buvait du vin et de la tristesse*).", figure: "Zeugme" },
        { questionText: "Quelle figure est le fait d'**attribuer des caract√©ristiques humaines √† un objet, un animal ou une id√©e** ?", options: { A: "L'All√©gorie", B: "La M√©taphore", C: "La Personnification", D: "La Comparaison" }, answer: "C", explanation: "La Personnification est le fait d'**attribuer des traits humains √† une chose** (Ex: *Le vent hurlait*).", figure: "Personnification" },
        { questionText: "Quelle figure est la **repr√©sentation d'une id√©e abstraite sous une forme concr√®te, souvent une figure humaine** ?", options: { A: "La P√©riphrase", B: "La Synecdoque", C: "L'All√©gorie", D: "La M√©taphore" }, answer: "C", explanation: "L'All√©gorie est la **repr√©sentation concr√®te d'une id√©e abstraite** (Ex: *La Faucheuse* pour la Mort).", figure: "All√©gorie" },
        { questionText: "Quelle figure est le **rapprochement de deux √©l√©ments avec un outil de comparaison (comme, tel, semblable √†...)** ?", options: { A: "La M√©taphore", B: "La P√©riphrase", C: "La Comparaison", D: "L'Antith√®se" }, answer: "C", explanation: "La Comparaison est le **rapprochement avec un outil de liaison**.", figure: "Comparaison" },
        { questionText: "Quelle figure est le **rapprochement de deux √©l√©ments SANS outil de comparaison** ?", options: { A: "La Comparaison", B: "La M√©taphore", C: "L'All√©gorie", D: "La Personnification" }, answer: "B", explanation: "La M√©taphore est le **rapprochement SANS outil de liaison** (Ex: *Un mur d'eau*).", figure: "M√©taphore" },
        { questionText: "Quelle figure est l'**exag√©ration pour mettre en valeur une id√©e ou une situation** ?", options: { A: "La Gradation", B: "La Litote", C: "L'Hyperbole", D: "Le Pl√©onasme" }, answer: "C", explanation: "L'Hyperbole est l'**exag√©ration excessive** (Ex: *Je l'ai dit mille fois*).", figure: "Hyperbole" },
        { questionText: "Quelle figure est l'**√©nonc√© qui contient une contradiction logique (il d√©fie la logique)** ?", options: { A: "L'Oxymore", B: "Le Paradoxe", C: "L'Antith√®se", D: "L'Antiphrase" }, answer: "B", explanation: "Le Paradoxe est l'**√©nonc√© d'une id√©e contraire √† la logique** (Ex: *Le bonheur rend malheureux*).", figure: "Paradoxe" },
        { questionText: "Quelle figure est de **dire moins pour faire entendre beaucoup plus, en utilisant souvent la n√©gation** ?", options: { A: "L'Euph√©misme", B: "La Pr√©t√©rition", C: "La Litote", D: "L'Antiphrase" }, answer: "C", explanation: "La Litote est de **dire moins pour sugg√©rer plus** (Ex: *Je ne dis pas non*).", figure: "Litote" },
        { questionText: "Quelle figure est l'**att√©nuation d'une id√©e ou d'un fait brutal ou d√©sagr√©able** ?", options: { A: "La Litote", B: "L'Euph√©misme", C: "La P√©riphrase", D: "Le Paradoxe" }, answer: "B", explanation: "L'Euph√©misme est l'**att√©nuation d'une r√©alit√© dure** (Ex: *Il nous a quitt√©s*).", figure: "Euph√©misme" },
        { questionText: "Quelle figure est d'**annoncer qu'on ne va pas parler de quelque chose, pour justement en parler** ?", options: { A: "La Litote", B: "La Pr√©t√©rition", C: "L'Ellipse", D: "Le Zeugme" }, answer: "B", explanation: "La Pr√©t√©rition est de **feindre d'omettre un sujet**.", figure: "Pr√©t√©rition" },
        { questionText: "Quelle figure est le **remplacement d'un terme par un autre qui lui est li√© par un rapport logique (contenant/contenu, auteur/≈ìuvre)** ?", options: { A: "La Synecdoque", B: "La P√©riphrase", C: "La M√©tonymie", D: "Le Pl√©onasme" }, answer: "C", explanation: "La M√©tonymie est le **remplacement par un terme li√© logiquement** (Ex: *Boire un verre*).", figure: "M√©tonymie" },
        { questionText: "Quelle figure est la **vari√©t√© de la m√©tonymie qui d√©signe la partie pour le tout (ou l'inverse), ou la mati√®re pour l'objet** ?", options: { A: "La M√©tonymie", B: "La Synecdoque", C: "La P√©riphrase", D: "Le Chiasme" }, answer: "B", explanation: "La Synecdoque est la **d√©signation de la partie par le tout ou de la mati√®re par l'objet** (Ex: *Le fer* pour l'√©p√©e).", figure: "Synecdoque" },
        { questionText: "Quelle figure est de **remplacer un mot par une expression plus longue qui le d√©crit** ?", options: { A: "La M√©taphore", B: "La P√©riphrase", C: "La Comparaison", D: "L'Euph√©misme" }, answer: "B", explanation: "La P√©riphrase est le **remplacement par une expression descriptive** (Ex: *Le roi des animaux* pour le lion).", figure: "P√©riphrase" },
        { questionText: "Quelle figure est la **r√©p√©tition d'un m√™me son voyelle (retour des voyelles)** ?", options: { A: "L'Allit√©ration", B: "L'Assonance", C: "L'Anaphore", D: "La R√©p√©tition" }, answer: "B", explanation: "L'Assonance est la **r√©p√©tition d'un son voyelle** (Ex: *lourd tourneur...*).", figure: "Assonance" },
        { questionText: "Quelle figure est la **r√©p√©tition d'un m√™me son consonne (retour des consonnes)** ?", options: { A: "L'Assonance", B: "L'Allit√©ration", C: "Le Zeugme", D: "Le Pl√©onasme" }, answer: "B", explanation: "L'Allit√©ration est la **r√©p√©tition d'un son consonne** (Ex: *Serpents qui sifflent...*).", figure: "Allit√©ration" },
        { questionText: "Quelle figure est l'**utilisation d'un pronom de mani√®re redondante ou emphatique** (ex: *Il me l'a dit, √† moi*) ?", options: { A: "Le Parall√©lisme", B: "Le Pl√©onasme", C: "La Pronomase", D: "Le Chiasme" }, answer: "C", explanation: "La Pronomase est l'**utilisation d'un pronom de mani√®re redondante ou emphatique**.", figure: "Pronomase" },
        { questionText: "Quelle figure est de **dire le contraire de ce que l'on pense, dans une intention ironique** ?", options: { A: "Le Paradoxe", B: "L'Euph√©misme", C: "La Litote", D: "L'Antiphrase" }, answer: "D", explanation: "L'Antiphrase est de **dire le contraire par ironie** (Ex: *Quel courage !* pour dire l√¢che).", figure: "Antiphrase" }
    ];

    const questionElement = document.getElementById('question');
    const answerButtons = document.getElementById('answer-buttons');
    const nextButton = document.getElementById('next-btn');
    const scoreElement = document.getElementById('score');
    const quizContainer = document.getElementById('quiz');
    const progressElement = document.getElementById('progress');
    const explanationBox = document.getElementById('explanation-box');
    const explanationText = document.getElementById('explanation-text');

    let currentQuestionIndex = 0;
    let score = 0;
    let currentQuestion;

    function startQuiz() {
        // Optionnel : questions.sort(() => Math.random() - 0.5); // Pour m√©langer les questions
        currentQuestionIndex = 0;
        score = 0;
        scoreElement.innerHTML = `Score: 0/${questions.length}`;
        showQuestion();
    }

    function showQuestion() {
        resetState();
        currentQuestion = questions[currentQuestionIndex];
        let questionNo = currentQuestionIndex + 1;
        
        // Affichage de la question (la d√©finition simple)
        questionElement.innerHTML = currentQuestion.questionText;
        progressElement.innerHTML = `Question ${questionNo}/${questions.length}`;

        currentQuestion.options.A = 'A. ' + currentQuestion.options.A;
        currentQuestion.options.B = 'B. ' + currentQuestion.options.B;
        currentQuestion.options.C = 'C. ' + currentQuestion.options.C;
        currentQuestion.options.D = 'D. ' + currentQuestion.options.D;

        const optionKeys = ['A', 'B', 'C', 'D'];
        optionKeys.forEach(key => {
            const li = document.createElement("li");
            li.innerHTML = currentQuestion.options[key];
            li.classList.add("answer-item");
            li.dataset.answerKey = key; 
            answerButtons.appendChild(li);
            if (key === currentQuestion.answer) {
                li.dataset.correct = "true";
            }
        });

        nextButton.innerHTML = `Valider`;
        answerButtons.addEventListener('click', selectAnswer);
    }

    function resetState() {
        nextButton.style.display = 'none';
        explanationBox.style.display = 'none';
        while (answerButtons.firstChild) {
            answerButtons.removeChild(answerButtons.firstChild);
        }
    }

    function selectAnswer(e) {
        if (!e.target.matches('.answer-item')) return;
        
        const selectedBtn = e.target;

        // On enl√®ve l'√©couteur de la liste pour g√©rer la s√©lection comme bouton radio
        Array.from(answerButtons.children).forEach(button => {
            button.classList.remove('selected');
        });
        selectedBtn.classList.add('selected');
        nextButton.style.display = "block";
        nextButton.innerHTML = "Valider"; // On force le bouton √† Valider apr√®s s√©lection
    }
    
    function checkSingleAnswer() {
        answerButtons.removeEventListener('click', selectAnswer);
        const selectedBtn = answerButtons.querySelector('.selected');
        
        // Si rien n'est s√©lectionn√©, on ne fait rien (normalement emp√™ch√© par le bouton Valider)
        if (!selectedBtn) return; 

        const isCorrect = selectedBtn.dataset.correct === "true";

        // Mise √† jour du score et de la classe du bouton s√©lectionn√©
        if (isCorrect) {
            selectedBtn.classList.add("correct");
            score++;
        } else {
            selectedBtn.classList.add("incorrect");
        }
        
        scoreElement.innerHTML = `Score: ${score}/${questions.length}`;

        // Afficher les r√©ponses (pour l'apprentissage)
        Array.from(answerButtons.children).forEach(button => {
            if (button.dataset.correct === "true") {
                button.classList.add("correct");
            }
            button.classList.add("disabled"); // D√©sactiver tous les boutons
        });
        
        // Afficher l'explication
        explanationText.innerHTML = `<strong>Figure : ${currentQuestion.figure}</strong>. ${currentQuestion.explanation}`;
        explanationBox.style.display = 'block';

        // Mettre √† jour le bouton pour passer √† la question suivante
        nextButton.innerHTML = "Question Suivante";
    }


    function handleNextButton() {
        if (nextButton.innerHTML === 'Valider') {
            checkSingleAnswer(); // C'est une question √† choix unique (simple)
        } else {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showScore();
            }
        }
    }

    function showScore() {
        let feedback = '';
        const totalQuestions = questions.length;

        if (score === totalQuestions) {
            feedback = 'F√©licitations ! Ma√Ætrise parfaite de toutes les d√©finitions ! üèÜ';
        } else if (score >= totalQuestions * 0.85) {
            feedback = 'Bravo ! Excellent score. Votre connaissance est tr√®s solide. ‚ú®';
        } else if (score >= totalQuestions * 0.7) {
            feedback = 'Bon r√©sultat ! Continuez √† r√©viser, vous √™tes proche de la ma√Ætrise. üëç';
        } else {
            feedback = 'Une bonne base ! Revoyez les d√©finitions pour am√©liorer votre score. üìö';
        }

        quizContainer.innerHTML = `
            <div class="result-screen">
                <h2>üéâ Quiz Termin√© !</h2>
                <p>Votre score final est de <strong>${score}</strong> sur ${totalQuestions}.</p>
                <p>${feedback}</p>
                <button onclick="location.reload()" class="restart-btn" style="display:block;">Recommencer le Quiz</button>
            </div>
        `;
    }

    nextButton.addEventListener('click', handleNextButton);

    startQuiz();
</script>

</body>
</html>
